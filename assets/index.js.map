{"version":3,"sources":["../scripts/index.js"],"names":[],"mappings":";;;;;;;AACA,IAAM,UAAU,kEAAV;AACN,IAAM,aAAa,CAAb;AACN,IAAM,gBAAgB,uBAAhB;AACN,IAAM,qBAAqB,IAArB;AACN,IAAM,kBAAkB,IAAlB;AACN,IAAM,mBAAmB;AACvB,OAAK,aAAL;AACA,gBAAc,kBAAd;CAFI;;;;IAMA;;;oCACmB;AACrB,UAAM,eAAe,SAAf,YAAe,CAAC,OAAD,EAAa;AAChC,YAAM,OAAO,QAAQ,IAAR,CAAa,QAAb,CADmB;AAEhC,eAAO,MAAM,GAAN,GAAY,KAAK,GAAL,CAAS;iBAAY,IAAI,KAAJ,CAAU,QAAV,EAAoB,UAApB;SAAZ,CAArB,CAFyB;OAAb,CADA;;AAMrB,aAAO,MACJ,GADI,2CACwC,OADxC,EAEJ,IAFI,CAEC,YAFD,CAAP,CANqB;;;;AAWvB,WAZI,KAYJ,CAAY,IAAZ,EAAkB,UAAlB,EAA8B;0BAZ1B,OAY0B;;AAC5B,SAAK,KAAL,GAAa,KAAK,KAAL;;AADe,QAG5B,CAAK,SAAL,GAAiB,IACf,CAAK,UAAL,IACA,KAAK,UAAL,CAAgB,MAAhB,IACA,KAAK,UAAL,CAAgB,UAAhB,CAFA,IAGG,gBAJY,CAHW;GAA9B;;SAZI;;;;;;IAwBA;AACJ,WADI,SACJ,CAAY,MAAZ,EAAoB,WAApB,EAAiC;0BAD7B,WAC6B;;AAC/B,SAAK,MAAL,GAAc,MAAd,CAD+B;AAE/B,SAAK,kBAAL,GAA0B,SAAS,cAAT,CAAwB,WAAxB,CAA1B,CAF+B;GAAjC;;eADI;;6BAMK;AACP,UAAM,aAAa,KAAK,MAAL,CAAY,GAAZ,CAAgB,iBAAS;YAClC,YAAqB,MAArB,UADkC;YACvB,QAAU,MAAV,MADuB;;AAE1C,YAAM,kBAAkB,GAAC,GAAM,UAAU,YAAV,GAA0B,eAAjC,CAFkB;;AAI1C,qEAC0C,kBAAkB,IAAlB,uDACJ,UAAU,GAAV,8CACV,yCAH5B,CAJ0C;OAAT,CAA7B,CADC;;AAaP,WAAK,kBAAL,CAAwB,SAAxB,GAAoC,WAAW,IAAX,CAAgB,EAAhB,CAApC,CAbO;;;;SANL;;;;;;IAwBA,gBACJ,SADI,aACJ,CAAY,OAAZ,EAAqB;;;wBADjB,eACiB;;AACnB,OAAK,OAAL,GAAe,OAAf,CADmB;;AAGnB,SAAO,MAAM,aAAN,GACJ,IADI,CACC,kBAAU;AACd,UAAK,MAAL,GAAc,MAAd,CADc;AAEd,UAAK,IAAL,GAAY,IAAI,SAAJ,CAAc,MAAK,MAAL,EAAa,MAAK,OAAL,CAAvC,CAFc;AAGd,UAAK,IAAL,CAAU,MAAV,GAHc;GAAV,CADR,CAHmB;CAArB;;AAYF,OAAO,MAAP,GAAgB;SAAM,IAAI,aAAJ,CAAkB,qBAAlB;CAAN","file":"index.js","sourcesContent":["// Config\nconst API_KEY = 'H7CF2IHbEc6QIrMVwb2zfd9VI14HHGAfYax1eHEUsJ4voYuqWF2oWvByUOhERva_';\nconst imgQuality = 1;\nconst defaultImgUrl = 'default-thumbnail.png';\nconst defaultAspectRatio = 1.78;\nconst containerHeight = 0.84;\nconst defaultThumbnail = {\n  url: defaultImgUrl,\n  aspect_ratio: defaultAspectRatio\n};\n\n// Model\nclass Video {\n  static requestVideos() {\n    const formatVideos = (payload) => {\n      const data = payload.data.response;\n      return Video.all = data.map(videoObj => new Video(videoObj, imgQuality));\n    }\n\n    return axios\n      .get(`https://api.zype.com/videos/?api_key=${API_KEY}`)\n      .then(formatVideos);\n  }\n\n  constructor(data, imgQuality) {\n    this.title = data.title;\n    // Could be cleaned up with lodash's `get` function\n    this.thumbnail = (\n      data.thumbnails &&\n      data.thumbnails.length &&\n      data.thumbnails[imgQuality]\n    ) || defaultThumbnail;\n  }\n}\n\n// View\nclass Thumnails {\n  constructor(videos, containerId) {\n    this.videos = videos;\n    this.thumbnailContainer = document.getElementById(containerId);\n  }\n\n  render() {\n    const thumbnails = this.videos.map(video => {\n      const { thumbnail, title } = video;\n      const thumbnailHeight = (100 / thumbnail.aspect_ratio) * containerHeight;\n\n      return `\n        <div class=\"thumbnail\" style=\"height: ${thumbnailHeight + 'vw'}\">\n          <img class=\"thumbnail-img\" src=\"${thumbnail.url}\" />\n          <span class=\"caption\">${title}</span>\n        </div>\n      `;\n    });\n\n    this.thumbnailContainer.innerHTML = thumbnails.join('');\n  }\n}\n\n// Controller\nclass ThumbnailPage {\n  constructor(mountId) {\n    this.mountId = mountId;\n\n    return Video.requestVideos()\n      .then(videos => {\n        this.videos = videos;\n        this.view = new Thumnails(this.videos, this.mountId);\n        this.view.render();\n      });\n  }\n}\n\nwindow.onload = () => new ThumbnailPage('thumbnail-container');\n"]}